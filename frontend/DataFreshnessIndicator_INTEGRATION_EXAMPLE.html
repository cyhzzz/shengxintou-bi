<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ®æ–°é²œåº¦æŒ‡ç¤ºå™¨ - é›†æˆç¤ºä¾‹</title>

    <!-- å¼•å…¥ç»„ä»¶æ ·å¼ -->
    <link rel="stylesheet" href="css/data-freshness-indicator.css">

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f7fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: #333;
            margin-bottom: 20px;
        }

        .example-section {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .example-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
        }

        .code-block {
            background: #f5f7fa;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            margin: 10px 0;
        }

        .code-block code {
            font-family: 'Courier New', Courier, monospace;
            font-size: 13px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“Š æ•°æ®æ–°é²œåº¦æŒ‡ç¤ºå™¨ - é›†æˆç¤ºä¾‹</h1>

        <!-- ç¤ºä¾‹ 1: é»˜è®¤ç”¨æ³• -->
        <div class="example-section">
            <div class="example-title">ç¤ºä¾‹ 1: é»˜è®¤ç”¨æ³•ï¼ˆæ¨èï¼‰</div>
            <div id="data-freshness-indicator"></div>
        </div>

        <!-- ç¤ºä¾‹ 2: è‡ªå®šä¹‰å®¹å™¨ -->
        <div class="example-section">
            <div class="example-title">ç¤ºä¾‹ 2: è‡ªå®šä¹‰å®¹å™¨ ID</div>
            <div id="my-freshness-indicator"></div>
        </div>

        <!-- ä½¿ç”¨è¯´æ˜ -->
        <div class="example-section">
            <div class="example-title">ä½¿ç”¨è¯´æ˜</div>
            <div class="code-block">
<code><strong>1. åœ¨ index.html ä¸­å¼•å…¥æ–‡ä»¶ï¼š</strong>

&lt;!-- åœ¨ &lt;head&gt; ä¸­ --&gt;
&lt;link rel="stylesheet" href="css/data-freshness-indicator.css"&gt;

&lt;!-- åœ¨ &lt;/body&gt; ä¹‹å‰ --&gt;
&lt;script src="js/utils/api.js"&gt;&lt;/script&gt;
&lt;script src="js/components/DataFreshnessIndicator.js"&gt;&lt;/script&gt;

<strong>2. æ·»åŠ å®¹å™¨å…ƒç´ ï¼š</strong>

&lt;div id="data-freshness-indicator"&gt;&lt;/div&gt;

<strong>3. åˆå§‹åŒ–ç»„ä»¶ï¼š</strong>

&lt;script&gt;
    // ä½¿ç”¨é»˜è®¤é…ç½®
    const indicator = new DataFreshnessIndicator();

    // æˆ–ä½¿ç”¨è‡ªå®šä¹‰é…ç½®
    const indicator = new DataFreshnessIndicator({
        containerId: 'my-freshness-indicator',
        refreshInterval: 10 * 60 * 1000,  // 10 åˆ†é’Ÿ
        onUpdateClick: () => {
            window.location.hash = 'data-import';
        }
    });
&lt;/script&gt;</code>
            </div>
        </div>

        <!-- é…ç½®è¯´æ˜ -->
        <div class="example-section">
            <div class="example-title">é…ç½®é€‰é¡¹</div>
            <div class="code-block">
<code><strong>å¯ç”¨é…ç½®ï¼š</strong>

{
    containerId: string,           // å®¹å™¨ IDï¼Œé»˜è®¤ 'data-freshness-indicator'
    refreshInterval: number,        // è‡ªåŠ¨åˆ·æ–°é—´éš”ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 5 åˆ†é’Ÿ
    onUpdateClick: function         // ç‚¹å‡»"ç«‹å³æ›´æ–°"æŒ‰é’®çš„å›è°ƒ
}

<strong>ç¤ºä¾‹ï¼š</strong>

const indicator = new DataFreshnessIndicator({
    containerId: 'dashboard-freshness',
    refreshInterval: 3 * 60 * 1000,  // 3 åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡
    onUpdateClick: () => {
        console.log('è·³è½¬åˆ°æ•°æ®å¯¼å…¥é¡µé¢');
        window.location.hash = 'data-import';
    }
});</code>
            </div>
        </div>

        <!-- å…¬å…±æ–¹æ³• -->
        <div class="example-section">
            <div class="example-title">å…¬å…±æ–¹æ³•</div>
            <div class="code-block">
<code><strong>æ‰‹åŠ¨åˆ·æ–°æ•°æ®ï¼š</strong>

await indicator.refresh();

<strong>å±•å¼€è¯¦æƒ…åˆ—è¡¨ï¼š</strong>

indicator.expand();

<strong>æŠ˜å è¯¦æƒ…åˆ—è¡¨ï¼š</strong>

indicator.collapse();

<strong>é”€æ¯ç»„ä»¶ï¼š</strong>

indicator.destroy();</code>
            </div>
        </div>
    </div>

    <!-- å¼•å…¥å¿…è¦çš„ä¾èµ– -->
    <script src="js/utils/api.js"></script>

    <!-- å¼•å…¥ç»„ä»¶ -->
    <script src="js/components/DataFreshnessIndicator.js"></script>

    <!-- åˆå§‹åŒ–ç¤ºä¾‹ -->
    <script>
        // ç¤ºä¾‹ 1: ä½¿ç”¨é»˜è®¤é…ç½®
        const defaultIndicator = new DataFreshnessIndicator();

        // ç¤ºä¾‹ 2: ä½¿ç”¨è‡ªå®šä¹‰é…ç½®
        const customIndicator = new DataFreshnessIndicator({
            containerId: 'my-freshness-indicator',
            refreshInterval: 10 * 60 * 1000,  // 10 åˆ†é’Ÿ
            onUpdateClick: () => {
                alert('è·³è½¬åˆ°æ•°æ®å¯¼å…¥é¡µé¢');
                // window.location.hash = 'data-import';
            }
        });
    </script>
</body>
</html>
